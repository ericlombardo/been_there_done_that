<% content_for :title do %>
  <h1>Let's Make A Memory</h1>
<% end %>


<form method="POST" action="/adventures" class="main_form">
  <div class="form-group">
    <label for="title">Trip Title: *</label>
    <input type="text" class="form-control" id="title" name="adventure[title]" size="40" required>
  </div>
  <div class="form-group">
    <label for="highlight">Highlight: *</label>
    <textarea id="highlight" class="form-control" rows="3" cols="40" maxlength="150" name="adventure[highlight]" placeholder="150 characters or less" required></textarea>
  </div>
  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="start_date">Trip Start Date:</label>
        <input type="date" class="form-control" id="start_date" name="adventure[start_date]">
      </div>
    </div>
    <div class="col">
      <div class="form-group">
        <label for="end_date">Trip End Date:</label>
        <input type="date" class="form-control" id="end_date" name="adventure[end_date]">
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="rating">Rating:</label>
        <select class="form-control" name="adventure[rating]" id="rating">
          <% x = 1 %>
          <option value='' selected></option>
          <% 10.times do %>
            <option value="<%=x%>"><%=x%></option>
            <% x += 1 %>
          <% end %>
        </select>
      </div>
    </div>
    <div class="col">
      <div class="form-group">
        <label for="recommend">Would you recommend his trip?</label>
        <div class="form-check">
          <input type="radio" class="form-check-input" id="recommend" value="yes" name="adventure[recommend]"> Yes</input>
        </div>
        <div class="form-check">
          <input type="radio" class="form-check-input" id="recommend" value="no" name="adventure[recommend]"> No</input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-3">
        <div class="form-group">
          <label for="miles_covered">Miles Covered:</label>
          <input type="number" class="form-control" id="miles_covered" name="adventure[miles_covered]">
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="transportation">Transportation:</label>
          <input type="text" class="form-control" id="transportation" name="adventure[transportation]">
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="weather">Weather:</label>
    <input type="text" class="form-control" id="weather" name="adventure[weather]">
  </div>
  <div class="form-group">
    <label for="summary">Trip Summary: *</label>
    <textarea id="summary" class="form-control" name="adventure[summary]" rows="7" cols="50" placeholder="Share with people what all you got into" required></textarea>
  </div>
  <div class="form-group">
    <label for="companions">Companions:</label>
    <input type="text" class="form-control" id="companions" name="adventure[companions]">
  </div>
  <div class="form-group">
    <label for="food">Food:</label>
    <input type="text" class="form-control" id="food" name="adventure[food]">
  </div>
  <div class="form-group">
    <label for="private_notes">Notes Just For You</label>
    <textarea class="form-control" id="private_notes" name="adventure[private_notes]" rows="7" cols="50" placeholder="These won't be shown on public profiles"></textarea>
  </div>  



  <!--States and Activities Section-->
  <% i = 1 %>  
  <% 3.times do %>
    <label for="state_<%= i %>">Select State: <%= '* (select state to track activities)' if i == 1 %></label>
    <select class="form-control" name="log[state<%=i%>][id]" id="state_<%=i%>" <%= 'required' if i == 1 %>>
      <option selected hidden disabled style="display:none"></option>
      
      <% @states.each do |s| %>
        <option id="state_<%=i%>" value="<%=s.id %>"><%=s.name%></option>
      <% end %>
    </select>
    <label for="activity_list">Select Activities:</label>
    <% x = 0 %>
    <% 3.times do %>
      <select class="form-control" name="log[state<%=i%>][activities][]" id="activity_list">
        <option selected hidden disabled style="display:none"></option>
        <% @activities.each do |a| %>
          <option value="<%=a.id%>"><%=a.name %></option>
        <% end %>
      </select>
      <% x += 1 %>
    <% end %>
    <% i += 1 %>
  <% end %>

  <input type="submit" value="Log Adventure">
</from>
